{"ast":null,"code":"import { global } from \"@/stores/global\";\nimport { ref } from \"vue\";\nimport gsap from \"gsap\";\nimport { Howler } from \"howler\";\nexport default {\n  __name: 'menu',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = global();\n    //当前的颜色模式：默认为light\n    const current_colormode = ref(\"light\");\n    // 切换页面颜色模式\n    function switch_colormode() {\n      document.querySelector(\"html\").classList.toggle(\"_darkmode\");\n      current_colormode.value = current_colormode.value === \"light\" ? \"dark\" : \"light\";\n    }\n    //是否静音，默认为false\n    let if_mute = ref(false);\n    // 切换页面静音状态\n    function switch_mutemode() {\n      if_mute.value = !if_mute.value;\n      Howler.mute(if_mute.value);\n    }\n    // DOM元素\n    const links = ref(null);\n    const copyright = ref(null);\n    // 显示菜单\n    function show_menu() {\n      links.value.classList.remove(\"_hidden\");\n      copyright.value.classList.remove(\"_hidden\");\n    }\n    // 隐藏菜单\n    function hidden_menu() {\n      links.value.classList.add(\"_hidden\");\n      copyright.value.classList.add(\"_hidden\");\n    }\n    // 储存全局功能函数\n    store.show_menu = show_menu;\n    store.hidden_menu = hidden_menu;\n    const __returned__ = {\n      store,\n      current_colormode,\n      switch_colormode,\n      get if_mute() {\n        return if_mute;\n      },\n      set if_mute(v) {\n        if_mute = v;\n      },\n      switch_mutemode,\n      links,\n      copyright,\n      show_menu,\n      hidden_menu,\n      get global() {\n        return global;\n      },\n      ref,\n      get gsap() {\n        return gsap;\n      },\n      get Howler() {\n        return Howler;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["global","ref","gsap","Howler","store","current_colormode","switch_colormode","document","querySelector","classList","toggle","value","if_mute","switch_mutemode","mute","links","copyright","show_menu","remove","hidden_menu","add"],"sources":["E:/SnakeBall/src/components/layout/menu.vue"],"sourcesContent":["<template>\r\n    <div class=\"links\" ref=\"links\">\r\n        <a href=\"https://github.com/wangzc2012/SnakeBall\" target=\"_blank\">\r\n            <svg viewBox=\"0 0 24 24\">\r\n                <path\r\n                    d=\"M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 \r\n                    0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 \r\n                    1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 \r\n                    0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 \r\n                    0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 \r\n                    4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 \r\n                    21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z\"\r\n                />\r\n            </svg>\r\n        </a>\r\n        <a href=\"https://space.bilibili.com/3546782877354264\" target=\"_blank\">\r\n            <svg viewBox=\"0 0 18 18\">\r\n                <path\r\n                    d=\"M3.73252 2.67094C3.33229 2.28484 3.33229 1.64373 3.73252 1.25764C4.11291 0.890684 4.71552 0.890684 5.09591 \r\n                    1.25764L7.21723 3.30403C7.27749 3.36218 7.32869 3.4261 7.37081 3.49407H10.5789C10.6211 3.4261 10.6723 3.36218 \r\n                    10.7325 3.30403L12.8538 1.25764C13.2342 0.890684 13.8368 0.890684 14.2172 1.25764C14.6175 1.64373 14.6175 \r\n                    2.28484 14.2172 2.67094L13.364 3.49407H14C16.2091 3.49407 18 5.28493 18 7.49407V12.9996C18 15.2087 16.2091 \r\n                    16.9996 14 16.9996H4C1.79086 16.9996 0 15.2087 0 12.9996V7.49406C0 5.28492 1.79086 3.49407 4 3.49407H4.58579L3.73252 \r\n                    2.67094ZM4 5.42343C2.89543 5.42343 2 6.31886 2 7.42343V13.0702C2 14.1748 2.89543 15.0702 4 15.0702H14C15.1046 \r\n                    15.0702 16 14.1748 16 13.0702V7.42343C16 6.31886 15.1046 5.42343 14 5.42343H4ZM5 9.31747C5 8.76519 5.44772 \r\n                    8.31747 6 8.31747C6.55228 8.31747 7 8.76519 7 9.31747V10.2115C7 10.7638 6.55228 11.2115 6 11.2115C5.44772 \r\n                    11.2115 5 10.7638 5 10.2115V9.31747ZM12 8.31747C11.4477 8.31747 11 8.76519 11 9.31747V10.2115C11 10.7638 \r\n                    11.4477 11.2115 12 11.2115C12.5523 11.2115 13 10.7638 13 10.2115V9.31747C13 8.76519 12.5523 8.31747 12 8.31747Z\"\r\n                />\r\n            </svg>\r\n        </a>\r\n    </div>\r\n    <div class=\"nav\">\r\n        <div class=\"nav_soundbtn\" :class=\"{'nav_soundbtn_mute':if_mute}\" @click=\"switch_mutemode\">\r\n            <p class=\"nav_soundbtn_tip _font_1\">SOUND</p>\r\n            <div class=\"nav_soundbtn_wave\">\r\n                <div style=\"--s:1;--d:1\"></div>\r\n                <div style=\"--s:1.5;--d:2\"></div>\r\n                <div style=\"--s:2;--d:3\"></div>\r\n            </div>\r\n        </div>\r\n        <svg\r\n            class=\"nav_colorbtn\"\r\n            :class=\"{'nav_colorbtn_light':current_colormode==='light','nav_colorbtn_dark':current_colormode==='dark'}\"\r\n            viewBox=\"0 0 500 500\"\r\n            @click=\"switch_colormode\"\r\n        >\r\n            <path\r\n                class=\"nav_colorbtn_moon\"\r\n                d=\"M143.03,250c0,64.73,31.22,122.16,79.41,158.06v0.05c-87.33,0-158.12-70.79-158.12-158.12\r\n\t\tS135.12,91.88,222.44,91.88v0.05C174.25,127.84,143.03,185.27,143.03,250z\"\r\n            />\r\n            <path class=\"nav_colorbtn_sun\" d=\"M396.79,250c0,87.33-70.79,158.12-158.12,158.12V91.88C326,91.88,396.79,162.67,396.79,250z\" />\r\n            <path class=\"nav_colorbtn_sunline\" d=\"M238.67,53c108.8,0,197,88.2,197,197s-88.2,197-197,197\" />\r\n        </svg>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { global } from \"@/stores/global\";\r\nimport { ref } from \"vue\";\r\nimport gsap from \"gsap\";\r\nimport { Howler } from \"howler\";\r\nconst store = global();\r\n//当前的颜色模式：默认为light\r\nconst current_colormode = ref(\"light\");\r\n// 切换页面颜色模式\r\nfunction switch_colormode() {\r\n    document.querySelector(\"html\").classList.toggle(\"_darkmode\");\r\n    current_colormode.value = current_colormode.value === \"light\" ? \"dark\" : \"light\";\r\n}\r\n//是否静音，默认为false\r\nlet if_mute = ref(false);\r\n// 切换页面静音状态\r\nfunction switch_mutemode() {\r\n    if_mute.value = !if_mute.value;\r\n    Howler.mute(if_mute.value);\r\n}\r\n// DOM元素\r\nconst links = ref(null);\r\nconst copyright = ref(null);\r\n// 显示菜单\r\nfunction show_menu() {\r\n    links.value.classList.remove(\"_hidden\");\r\n    copyright.value.classList.remove(\"_hidden\");\r\n}\r\n// 隐藏菜单\r\nfunction hidden_menu() {\r\n    links.value.classList.add(\"_hidden\");\r\n    copyright.value.classList.add(\"_hidden\");\r\n}\r\n// 储存全局功能函数\r\nstore.show_menu = show_menu;\r\nstore.hidden_menu = hidden_menu;\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n    --scale: 1;\r\n    z-index: 10000;\r\n}\r\n.links {\r\n    position: fixed;\r\n    left: var(--margin_x);\r\n    top: var(--margin_y);\r\n    transform: translateY(-50%);\r\n    transition: opacity 1s var(--ease_out), visibility 1s var(--ease_out);\r\n}\r\n.links svg {\r\n    height: calc(var(--scale) * 3rem);\r\n    fill: var(--color_front);\r\n    margin-right: calc(var(--scale) * 3rem);\r\n    overflow: visible;\r\n    transition: fill 0.5s var(--ease_out);\r\n    cursor: pointer;\r\n}\r\n@media (hover: hover) {\r\n    .links svg:hover {\r\n        fill: var(--color_gray);\r\n    }\r\n}\r\n.nav {\r\n    flex-direction: row-reverse;\r\n    position: fixed;\r\n    align-items: center;\r\n    right: var(--margin_x);\r\n    top: var(--margin_y);\r\n    transform: translateY(-50%);\r\n}\r\n.nav_soundbtn {\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: var(--color_front);\r\n    border-radius: calc(var(--scale) * 2rem);\r\n    padding: calc(var(--scale) * 1rem) calc(var(--scale) * 1.5rem);\r\n    transition: background-color 0.5s var(--ease_out);\r\n    cursor: pointer;\r\n}\r\n.nav_soundbtn_tip {\r\n    color: var(--color_back);\r\n    line-height: calc(var(--scale) * 1.5rem);\r\n    margin-right: calc(var(--scale) * 0.6rem);\r\n}\r\n.nav_soundbtn_wave {\r\n    align-items: center;\r\n    height: calc(var(--scale) * 1.5rem);\r\n    overflow: hidden;\r\n    transition: height 0.5s var(--ease_out);\r\n}\r\n.nav_soundbtn_wave div {\r\n    width: calc(var(--scale) * 0.5rem * var(--s));\r\n    height: calc(var(--scale) * 0.5rem * var(--s));\r\n    background-color: var(--color_back);\r\n    border-radius: 100%;\r\n    margin: 0 calc(var(--scale) * 0.4rem);\r\n    animation: nav_soundbtn_wave 2s var(--ease_out) infinite calc(var(--d) * 0.2s);\r\n}\r\n@keyframes nav_soundbtn_wave {\r\n    0% {\r\n        transform: scale(1);\r\n    }\r\n    50% {\r\n        transform: scale(1.5);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n@media (hover: hover) {\r\n    .nav_soundbtn:hover {\r\n        background-color: var(--color_gray);\r\n    }\r\n}\r\n.nav_soundbtn_mute .nav_soundbtn_wave {\r\n    height: calc(var(--scale) * 0.25rem);\r\n}\r\n.nav_soundbtn_mute .nav_soundbtn_wave div {\r\n    animation-play-state: paused;\r\n}\r\n.nav_colorbtn {\r\n    width: calc(var(--scale) * 3.8rem);\r\n    height: calc(var(--scale) * 3.8rem);\r\n    margin-right: calc(var(--scale) * 3rem);\r\n    cursor: pointer;\r\n}\r\n.nav_colorbtn_moon,\r\n.nav_colorbtn_sun,\r\n.nav_colorbtn_sunline {\r\n    transition: fill 0.5s var(--ease_out), stroke 0.5s var(--ease_out);\r\n}\r\n.nav_colorbtn_moon {\r\n    fill: var(--color_front);\r\n}\r\n.nav_colorbtn_sun {\r\n    fill: var(--color_front);\r\n}\r\n.nav_colorbtn_sunline {\r\n    fill: none;\r\n    stroke: var(--color_front);\r\n    stroke-width: 25;\r\n    stroke-linecap: round;\r\n    stroke-linejoin: round;\r\n    stroke-dasharray: 0, 70;\r\n    animation: nav_colorbtn_sunline 0.1s linear infinite;\r\n}\r\n@keyframes nav_colorbtn_sunline {\r\n    0% {\r\n        stroke-dashoffset: 0;\r\n    }\r\n    100% {\r\n        stroke-dashoffset: -70;\r\n    }\r\n}\r\n.nav_colorbtn_light .nav_colorbtn_moon {\r\n    fill: var(--color_gray);\r\n}\r\n\r\n@media (hover: hover) {\r\n    .nav_colorbtn_light:hover .nav_colorbtn_moon {\r\n        fill: var(--color_front);\r\n    }\r\n}\r\n.nav_colorbtn_dark .nav_colorbtn_sun {\r\n    fill: var(--color_gray);\r\n}\r\n.nav_colorbtn_dark .nav_colorbtn_sunline {\r\n    stroke: var(--color_gray);\r\n}\r\n\r\n@media (hover: hover) {\r\n    .nav_colorbtn_dark:hover .nav_colorbtn_sun {\r\n        fill: var(--color_front);\r\n    }\r\n    .nav_colorbtn_dark:hover .nav_colorbtn_sunline {\r\n        stroke: var(--color_front);\r\n    }\r\n}\r\n\r\n.copyright {\r\n    position: fixed;\r\n    left: var(--margin_x);\r\n    bottom: var(--margin_y);\r\n    line-height: calc(var(--scale) * 2rem);\r\n    color: var(--color_front);\r\n    text-decoration: none;\r\n    transition: opacity 1s var(--ease_out), visibility 1s var(--ease_out),\r\n        color 0.5s var(--ease_out);\r\n    transform: translateY(50%);\r\n}\r\n@media (hover: hover) {\r\n    .copyright:hover {\r\n        color: var(--color_gray);\r\n    }\r\n}\r\n</style>"],"mappings":"AA2DA,SAASA,MAAM,QAAQ,iBAAiB;AACxC,SAASC,GAAG,QAAQ,KAAK;AACzB,OAAOC,IAAI,MAAM,MAAM;AACvB,SAASC,MAAM,QAAQ,QAAQ;;;;;;;IAC/B,MAAMC,KAAK,GAAGJ,MAAM,CAAC,CAAC;IACtB;IACA,MAAMK,iBAAiB,GAAGJ,GAAG,CAAC,OAAO,CAAC;IACtC;IACA,SAASK,gBAAgBA,CAAA,EAAG;MACxBC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAACC,SAAS,CAACC,MAAM,CAAC,WAAW,CAAC;MAC5DL,iBAAiB,CAACM,KAAK,GAAGN,iBAAiB,CAACM,KAAK,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO;IACpF;IACA;IACA,IAAIC,OAAO,GAAGX,GAAG,CAAC,KAAK,CAAC;IACxB;IACA,SAASY,eAAeA,CAAA,EAAG;MACvBD,OAAO,CAACD,KAAK,GAAG,CAACC,OAAO,CAACD,KAAK;MAC9BR,MAAM,CAACW,IAAI,CAACF,OAAO,CAACD,KAAK,CAAC;IAC9B;IACA;IACA,MAAMI,KAAK,GAAGd,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMe,SAAS,GAAGf,GAAG,CAAC,IAAI,CAAC;IAC3B;IACA,SAASgB,SAASA,CAAA,EAAG;MACjBF,KAAK,CAACJ,KAAK,CAACF,SAAS,CAACS,MAAM,CAAC,SAAS,CAAC;MACvCF,SAAS,CAACL,KAAK,CAACF,SAAS,CAACS,MAAM,CAAC,SAAS,CAAC;IAC/C;IACA;IACA,SAASC,WAAWA,CAAA,EAAG;MACnBJ,KAAK,CAACJ,KAAK,CAACF,SAAS,CAACW,GAAG,CAAC,SAAS,CAAC;MACpCJ,SAAS,CAACL,KAAK,CAACF,SAAS,CAACW,GAAG,CAAC,SAAS,CAAC;IAC5C;IACA;IACAhB,KAAK,CAACa,SAAS,GAAGA,SAAS;IAC3Bb,KAAK,CAACe,WAAW,GAAGA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}