{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"background _fullscreen\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"--s\": \"1.5\",\n    \"--x\": \"-0.1\",\n    \"--y\": \"-0.3\",\n    \"--o\": \"1\"\n  }\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  style: {\n    \"--s\": \"1.3\",\n    \"--x\": \"-0.05\",\n    \"--y\": \"0.75\",\n    \"--o\": \"1\"\n  }\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  style: {\n    \"--s\": \"0.9\",\n    \"--x\": \"0.7\",\n    \"--y\": \"0\",\n    \"--o\": \"0.8\"\n  }\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  style: {\n    \"--s\": \"0.4\",\n    \"--x\": \"0.88\",\n    \"--y\": \"0.45\",\n    \"--o\": \"0.6\"\n  }\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = {\n  style: {\n    \"--s\": \"0.5\",\n    \"--x\": \"0.6\",\n    \"--y\": \"0.85\",\n    \"--o\": \"0.7\"\n  }\n};\nconst _hoisted_11 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 这里的模糊小球用图片代替滤镜是为了适配safari浏览器，safari对于滤镜不太友好，大范围模糊容易卡顿 \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n    src: require('@/assets/images/blurball.png'),\n    alt: \"blurball\"\n  }, null, 8 /* PROPS */, _hoisted_3)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: require('@/assets/images/blurball.png'),\n    alt: \"blurball\"\n  }, null, 8 /* PROPS */, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n    src: require('@/assets/images/blurball.png'),\n    alt: \"blurball\"\n  }, null, 8 /* PROPS */, _hoisted_7)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"img\", {\n    src: require('@/assets/images/blurball.png'),\n    alt: \"blurball\"\n  }, null, 8 /* PROPS */, _hoisted_9)]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"img\", {\n    src: require('@/assets/images/blurball.png'),\n    alt: \"blurball\"\n  }, null, 8 /* PROPS */, _hoisted_11)])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","src","require","alt","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11"],"sources":["E:\\SnakeBall\\src\\components\\layout\\background.vue"],"sourcesContent":["<template>\r\n    <div class=\"background _fullscreen\">\r\n        <!-- 这里的模糊小球用图片代替滤镜是为了适配safari浏览器，safari对于滤镜不太友好，大范围模糊容易卡顿 -->\r\n        <div style=\"--s:1.5;--x:-0.1;--y:-0.3;--o:1\">\r\n            <img :src=\"require('@/assets/images/blurball.png')\" alt=\"blurball\" />\r\n        </div>\r\n        <div style=\"--s:1.3;--x:-0.05;--y:0.75;--o:1\">\r\n            <img :src=\"require('@/assets/images/blurball.png')\" alt=\"blurball\" />\r\n        </div>\r\n        <div style=\"--s:0.9;--x:0.7;--y:0;--o:0.8\">\r\n            <img :src=\"require('@/assets/images/blurball.png')\" alt=\"blurball\" />\r\n        </div>\r\n        <div style=\"--s:0.4;--x:0.88;--y:0.45;--o:0.6\">\r\n            <img :src=\"require('@/assets/images/blurball.png')\" alt=\"blurball\" />\r\n        </div>\r\n        <div style=\"--s:0.5;--x:0.6;--y:0.85;--o:0.7\">\r\n            <img :src=\"require('@/assets/images/blurball.png')\" alt=\"blurball\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted } from \"vue\";\r\nimport gsap from \"gsap\";\r\n// 背景控制对象\r\nconst background = {\r\n    balls: null, //所有的背景移动小球\r\n    mouse_x: 0, //坐标x\r\n    mouse_y: 0, //坐标y\r\n    distance_x: 0, //横向移动距离\r\n    distance_y: 0, //竖向移动距离\r\n    init() {\r\n        this.balls = document.querySelectorAll(\".background div\");\r\n        // 绑定监听事件\r\n        document.addEventListener(\"mousemove\", (e) => {\r\n            this.move_balls(e.x, e.y);\r\n        });\r\n        document.addEventListener(\"touchmove\", (e) => {\r\n            this.move_balls(e.touches[0].clientX, e.touches[0].clientY);\r\n        });\r\n        document.addEventListener(\"mouseleave\", (e) => {\r\n            this.reset_balls();\r\n        });\r\n        document.addEventListener(\"touchend\", (e) => {\r\n            this.reset_balls();\r\n        });\r\n    },\r\n    // 移动背景模糊小球\r\n    move_balls(x, y) {\r\n        // 防止大幅度抖动：例如在鼠标离开界面后再回来\r\n        if (Math.abs(x - this.mouse_x) >= innerWidth / 10) this.mouse_x = x;\r\n        if (Math.abs(y - this.mouse_y) >= innerHeight / 10) this.mouse_y = y;\r\n        // 更新距离:将距离与屏幕尺寸绑定：避免不同尺寸下移动距离差异过大\r\n        this.distance_x += ((x - this.mouse_x) / innerWidth) * 80;\r\n        this.distance_y += ((y - this.mouse_y) / innerHeight) * 80;\r\n        // 移动小球\r\n        gsap.to(this.balls, {\r\n            x: `${-this.distance_x}px`,\r\n            y: `${-this.distance_y}px`,\r\n            duration: 3,\r\n            ease: \"power3.out\",\r\n        });\r\n        // 更新坐标\r\n        this.mouse_x = x;\r\n        this.mouse_y = y;\r\n    },\r\n    // 复位所有背景模糊小球\r\n    reset_balls() {\r\n        gsap.to(this.balls, {\r\n            x: 0,\r\n            y: 0,\r\n            duration: 5,\r\n            ease: \"power3.out\",\r\n        });\r\n        this.distance_x = this.distance_y = 0;\r\n    },\r\n};\r\nonMounted(() => {\r\n    background.init();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.background {\r\n    --scale: 1;\r\n    pointer-events: none;\r\n}\r\n.background div {\r\n    position: absolute;\r\n    left: calc(100% * var(--x));\r\n    top: calc(100% * var(--y));\r\n    width: calc(var(--scale) * 50rem * var(--s));\r\n    height: calc(var(--scale) * 50rem * var(--s));\r\n    opacity: var(--o);\r\n}\r\n/* 黑暗模式下，小球亮了点，这里再减去一点透明度 */\r\n._darkmode .background div {\r\n    opacity: calc(var(--o) - 0.4);\r\n}\r\n.background div img {\r\n    position: relative;\r\n    width: 120%;\r\n    height: 120%;\r\n}\r\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAwB;;EAE1BC,KAAuC,EAAvC;IAAA;IAAA;IAAA;IAAA;EAAA;AAAuC;mBAHpD;;EAMaA,KAAwC,EAAxC;IAAA;IAAA;IAAA;IAAA;EAAA;AAAwC;mBANrD;;EASaA,KAAqC,EAArC;IAAA;IAAA;IAAA;IAAA;EAAA;AAAqC;mBATlD;;EAYaA,KAAyC,EAAzC;IAAA;IAAA;IAAA;IAAA;EAAA;AAAyC;mBAZtD;;EAeaA,KAAwC,EAAxC;IAAA;IAAA;IAAA;IAAA;EAAA;AAAwC;oBAfrD;;uBACIC,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBFC,mBAAA,2DAA8D,EAC9DC,mBAAA,CAEM,OAFNC,UAEM,GADFD,mBAAA,CAAqE;IAA/DE,GAAG,EAAEC,OAAO;IAAkCC,GAAG,EAAC;0BAJpEC,UAAA,E,GAMQL,mBAAA,CAEM,OAFNM,UAEM,GADFN,mBAAA,CAAqE;IAA/DE,GAAG,EAAEC,OAAO;IAAkCC,GAAG,EAAC;0BAPpEG,UAAA,E,GASQP,mBAAA,CAEM,OAFNQ,UAEM,GADFR,mBAAA,CAAqE;IAA/DE,GAAG,EAAEC,OAAO;IAAkCC,GAAG,EAAC;0BAVpEK,UAAA,E,GAYQT,mBAAA,CAEM,OAFNU,UAEM,GADFV,mBAAA,CAAqE;IAA/DE,GAAG,EAAEC,OAAO;IAAkCC,GAAG,EAAC;0BAbpEO,UAAA,E,GAeQX,mBAAA,CAEM,OAFNY,WAEM,GADFZ,mBAAA,CAAqE;IAA/DE,GAAG,EAAEC,OAAO;IAAkCC,GAAG,EAAC;0BAhBpES,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}